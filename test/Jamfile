#
# Copyright (c) 2023 Klemens Morgenstern (klemens.morgenstern@gmx.net)
#
# Distributed under the Boost Software License, Version 1.0. (See accompanying
# file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
#
# Official repository: https://github.com/boostorg/json
#

project : 
requirements <include>../../.. 
    <cxxstd>17:<boost.requests.use-std-fs>on
    <cxxstd>20:<boost.requests.use-std-fs>on
    <boost.requests.separate-compilation>on:<source>/boost//requests
    <boost.requests.use-std-fs>off:<source>/boost//filesystem
;

import testing ;
using openssl ;

run main_test.cpp
    fixtures/server.cpp
    unit/detail/condition_variable.cpp
    unit/connection.cpp
    unit/connection_pool.cpp
    unit/cookie_grammar.cpp
    unit/cookie_jar.cpp
    unit/fixed_token_rule.cpp
    unit/form.cpp
    unit/keep_alive.cpp
    unit/link.cpp
    unit/quoted_string.cpp
    unit/raw_string.cpp
    unit/redirect.cpp
    unit/request_stream.cpp
    unit/rfc.cpp
    unit/service.cpp
    unit/session.cpp
    unit/source.cpp
    unit/token_rule.cpp
    /boost//requests /boost//context /boost//json /boost//url /boost//unit_test_framework /boost//filesystem /openssl//ssl /openssl//crypto 
    : : : : unit-tests  ;

run main_test.cpp
    fixtures/httpbin.cpp
    httpbin/cookie.cpp
    httpbin/json.cpp
    httpbin/method.cpp 
    /boost//requests /boost//context /boost//json /boost//url /boost//unit_test_framework /boost//filesystem /openssl//ssl /openssl//crypto 
    : : : : httpbin-tests  ;
